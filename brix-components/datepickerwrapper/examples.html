<!DOCTYPE html>
<html>
    <head>
        <script src="http://g-assets.daily.taobao.net/thx/brix-release/require-config-css.js"></script>
        <style>
            body {
                padding: 10px;
            }
        </style>
        <style>
            .demo-active.focus, 
            .demo-active.focus:hover {
                border-color: #66afe9;
                outline: 0;
                box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, .6);
            }
        </style>
    </head>
    <body>
        <div class="row">
            <div class="col-xs-6">
                <h3 class="fontsize-16">为 <code>input</code> 元素绑定日期选择器。</h3>
                <input class="form-control w100" bx-name="components/datepickerwrapper" type="text">
            </div>
            <div class="col-xs-6">
                <h3 class="fontsize-16">为 <code>input</code> 元素绑定日期选择器。</h3>
                <input class="form-control w100" bx-name="components/datepickerwrapper" data-pages="2" type="text">
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <h3 class="fontsize-16">为任意元素绑定日期选择器。</h3><a bx-name="components/datepickerwrapper" href="javascript:;">请选择日期</a>
            </div>
            <div class="col-xs-6">
                <h3 class="fontsize-16">自定义样式。</h3><a bx-name="components/datepickerwrapper" href="javascript:;"><span data-index="0">请选择日期</span><i class="brixfont down">&#xe623;<!--&#xe623;--></i><i class="brixfont up">&#xe62e;<!--&#xe62e;--></i></a>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <h3 class="fontsize-16">绑定 2 个日期选择器。</h3>
                <div class="form-control datepickerwrapper-trigger" bx-name="components/datepickerwrapper" data-dates="['2015-1-1', '2015-1-2']"><span data-index="0">2015-1-1</span><span>&nbsp;至&nbsp;</span><span data-index="1">2015-1-2</span><i class="brixfont pull-right ml5 down"> &#xe623;<!--&#xe623;--></i><i class="brixfont pull-right ml5 up">   &#xe62e;<!--&#xe62e;--></i></div>
            </div>
            <div class="col-xs-6">
                <h3 class="fontsize-16">自定义快捷日期。</h3>
                <div class="form-control w300" bx-name="components/datepickerwrapper" data-dates="['2015-1-1', '2015-1-2']" bx-options="{                        shortcuts: { '一期': ['2015-1-1 8:00:00', '2015-3-14 18:00:00'] }                    }"><span class="mr7" data-index="0">2015-1-1</span><span>至</span><span class="ml7" data-index="1">2015-1-2</span></div></div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <h3 class="fontsize-16">绑定 3 个日期选择器。</h3>
                <div class="form-control w300" bx-name="components/datepickerwrapper" data-dates="['2015-1-1', '2015-1-2', '2015-1-3']"><span class="mr7" data-index="0">2015-1-1</span><span class="mr7" data-index="1">2015-1-2</span><span class="mr7" data-index="2">2015-1-3</span></div>
            </div>
            <div class="col-xs-6">
                <h3 class="fontsize-16">自定义快捷日期。</h3>
                <div class="form-control w300" bx-name="components/datepickerwrapper" data-dates="['2015-1-1', '2015-1-2', '2015-1-3']" bx-options="{                        shortcuts: { '一期':['2015-1-1', '2015-3-14', '2015-6-1'] }                    }"><span class="mr7" data-index="0">2015-1-1</span><span class="mr7" data-index="1">2015-1-2</span><span class="mr7" data-index="2">2015-1-3</span></div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <h3 class="fontsize-16">设置可选范围：最小日期（单个日期选择器）。</h3>
                <input class="form-control w100" bx-name="components/datepickerwrapper" data-ranges="[[new Date(), '2015-3-14']]">
            </div>
            <div class="col-xs-6">
                <h3 class="fontsize-16">设置可选范围：最小日期（多个日期选择器）。</h3>
                <div class="form-control w300" bx-name="components/datepickerwrapper" data-dates="['2015-1-1', '2015-1-2']" data-ranges="[['2015-1-1', '2015-1-2']]"><span class="mr7" data-index="0">2015-1-1</span><span>至</span><span class="ml7" data-index="1">2015-1-2</span></div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <h3 class="fontsize-16">支持不限（单个日期选择器）。</h3>
                <input class="form-control w100" bx-name="components/datepickerwrapper" data-unlimits="['2099-1-1']">
            </div>
            <div class="col-xs-6">
                <h3 class="fontsize-16">支持不限（多个日期选择器）。</h3>
                <div class="form-control w300" bx-name="components/datepickerwrapper" data-dates="['2015-1-1', '2015-1-2']" data-unlimits="[undefined, '2099-1-1']"><span class="mr7" data-index="0">2015-1-1</span><span>至</span><span class="ml7" data-index="1">2015-1-2</span></div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <h3 class="fontsize-16">单个日期选择器：自动触发 <code>input</code> 元素的 <code>change</code> 事件。</h3>
                <input class="form-control w100" bx-name="components/datepickerwrapper" data-unlimits="['2099-1-1']" onchange="alert(this.value)">
            </div>
            <div class="col-xs-6">
                <h3 class="fontsize-16">单个日期选择器：自动同步至隐藏域，并触发隐藏域的 <code>change</code> 事件。</h3><a href="javascript:;" bx-name="components/datepickerwrapper">
                    <input type="hidden" data-hidden-index="0" onchange="alert(this.value)">
                    <data data-index="0">请选择日期</data></a>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <h3 class="fontsize-16">多个日期选择器：自动同步至隐藏域，并触发隐藏域的 change 事件。</h3>
                <div class="form-control w300" bx-name="components/datepickerwrapper" data-dates="[ '2015-1-1', '2015-1-2']"><span class="mr7" data-index="0">2015-1-1</span><span>至</span><span class="ml7" data-index="1">2015-1-2</span>
                    <input type="hidden" data-hidden-index="0" onchange="alert(this.value)">
                    <input type="hidden" data-hidden-index="1" onchange="alert(this.value)">
                </div>
            </div>
            <div class="col-xs-6">
                <h3 class="fontsize-16">对于不限，隐藏域的值是真实日期。</h3>
                <div class="form-control w300" bx-name="components/datepickerwrapper" data-dates="['2015-1-1', '2015-1-2']" data-unlimits="[undefined, '2099-1-1']"><span class="mr7" data-index="0">2015-1-1</span><span>至</span><span class="ml7" data-index="1">2015-1-2</span>
                    <input type="hidden" data-hidden-index="0" onchange="alert(this.value)">
                    <input type="hidden" data-hidden-index="1" onchange="alert(this.value)">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <h3 class="fontsize-16">事件 active、inactive。</h3>
                <div class="form-control w100 cursor-pointer demo-active" bx-name="components/datepickerwrapper"></div>
            </div>
            <div class="col-xs-6">
                <h3 class="fontsize-16">事件 active、inactive。</h3>
                <div class="form-control w300 cursor-pointer demo-active" bx-name="components/datepickerwrapper" data-dates="['2015-1-1', '2015-1-2']"><span class="mr7" data-index="0">2015-1-1</span><span>至</span><span class="ml7" data-index="1">2015-1-2</span></div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <h3 class="fontsize-16">日期 + 时间</h3>
                <input class="form-control w200" bx-name="components/datepickerwrapper" data-type="date time" data-dates="['2015-1-1 1:1:1']">
            </div>
            <div class="col-xs-6">
                <h3 class="fontsize-16">日期 + 时间（小时可修改，分钟和秒不可修改）</h3>
                <input class="form-control w200" bx-name="components/datepickerwrapper" data-type="date hour" data-dates="['2015-1-1 1:1:1']">
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <h3 class="fontsize-16">多个日期 + 时间</h3>
                <ipnut class="form-control w300" bx-name="components/datepickerwrapper" data-type="date time" data-dates="['2015-1-1 1:1:1', '2016-1-1 1:1:1']"></ipnut>
            </div>
            <div class="col-xs-6">
                <h3 class="fontsize-16">多个日期 + 时间（小时可修改，分钟和秒不可修改）</h3>
                <ipnut class="form-control w300" bx-name="components/datepickerwrapper" data-type="date hour" data-dates="['2015-1-1 1:1:1', '2016-1-1 1:1:1']"></ipnut>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <h3 class="fontsize-16">位于下方 + 左侧对齐（默认）</h3>
                <input class="form-control w300" bx-name="components/datepickerwrapper" data-dates="['2015-1-1', '2016-1-1']" data-align="left">
            </div>
            <div class="col-xs-6">
                <h3 class="fontsize-16">位于下方 + 右侧对齐</h3>
                <input class="form-control w300" bx-name="components/datepickerwrapper" data-dates="['2015-1-1', '2016-1-1']" data-align="right">
            </div>
        </div>
        <script>
            require(['brix/loader', 'jquery', 'highlightjs'], function(Loader, $, hljs) {
                window.Loader = Loader
                Loader.boot(function() {
                    $('iframe', top.document).height($(document.body).outerHeight())
                    $(document.body).find('pre code').each(function(index, code) {
                        hljs.highlightBlock(code)
                    })
                    var instances = Loader.query('components/colorpicker')
                })
            })
            require(['brix/loader', 'jquery', 'underscore'], function(Loader, $, _) {
                Loader.boot(function() {
                    var target = $('.demo-active')
                    var targetInstances = Loader.query(target)
                    _.each(targetInstances, function(instance){
                        instance.on('active.datepickerwrapper', function(event) {
                            $(instance.element).addClass('focus')
                            console.log(event.type, event.namespace, instance.element)
                        })
                        instance.on('inactive.datepickerwrapper', function(event) {
                            $(instance.element).removeClass('focus')
                            console.log(event.type, event.namespace, instance.element)
                        })
                    })
                })
            })
        </script>
    </body>
</html>